syntax = "proto3";

package workspace.v1;

option go_package = "github.com/nauticalstream/proto/gen/go/workspace/v1";

// ============================================
// ENUMS
// ============================================

enum WorkspaceFeatureStatus {
  WORKSPACE_FEATURE_STATUS_UNSPECIFIED = 0;
  WORKSPACE_FEATURE_STATUS_ACTIVE = 1;
  WORKSPACE_FEATURE_STATUS_INACTIVE = 2;
  WORKSPACE_FEATURE_STATUS_DEPRECATED = 3;
}

// ============================================
// FEATURE FULL MODEL
// ============================================

// Full feature model (matches Prisma schema and used for enrichment)
message WorkspaceFeature {
  string id = 1;
  string workspace_id = 2;
  int32 amenity_id = 3;
  WorkspaceFeatureStatus status = 4;
  string created_by = 5;
  string created_at = 6; // ISO 8601 datetime string
  string updated_at = 7; // ISO 8601 datetime string
}

// ============================================
// EVENTS
// ============================================

// Event: Feature created
message WorkspaceFeatureCreated {
  string id = 1;
  string workspace_id = 2;
  int32 amenity_id = 3;
  string created_at = 4; // ISO 8601 datetime string
}

// Event: Feature updated
message WorkspaceFeatureUpdated {
  string id = 1;
  string updated_at = 2; // ISO 8601 datetime string
}

// Event: Feature deleted
message WorkspaceFeatureDeleted {
  string id = 1;
  string deleted_by = 2;
  string deleted_at = 3; // ISO 8601 datetime string
}
